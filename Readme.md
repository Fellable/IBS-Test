## Тестовое задание в компанию IBS: модуль "Магазин ноутбуков"

### Установка
1. Поместите модуль `company.laptopshop` в папку `/local/modules` вашего проекта.
2. Установите модуль через административную панель Битрикс.
3. В процессе установки можно выбрать удаление существующих таблиц и создание их заново.
4. Модуль включает тестовые данные для проверки.

### Тестирование
Для тестирования был создан новый раздел сайта, в который был добавлен комплексный компонент "Интернет-магазин ноутбуков" и включён ЧПУ.


## Само задание "Интернет-магазин ноутбуков"

Модуль решает проблемы хранения и поиска ноутбуков на сайте интернет-магазина и не обладает каким-либо интерфейсом администрирования (предположим, все данные в него попадают автоматически).

#### Сущности модуля

Модуль обладает следующими сущностями:  
a. **Производитель** (обязательно обладает свойствами `id` и `name`)  
b. **Модель** (обязательно обладает свойствами `id` и `name`)  
c. **Ноутбук** (обязательно обладает свойствами `id`, `name`, `year` и `price`)  
d. **Опция** (обязательно обладает свойствами `id` и `name`)

Сущности взаимосвязаны следующим образом:
- Каждая модель обязательно привязана к одному производителю
- Каждый ноутбук обязательно привязан к одной модели
- Любая опция может быть привязана к любому количеству ноутбуков

Таким образом, получается следующая структура:
- 1 производитель - множество моделей
- 1 модель - множество ноутбуков
- 1 ноутбук - множество опций (many-to-many).

Вся реализация, в том числе сущности и их взаимосвязи, должна быть сделана с использованием **Bitrix ORM**.

#### Компоненты

Модуль включает в себя следующий набор компонентов:  
a. **Комплексный компонент**  
b. **Компонент списка**  
c. **Компонент детальной страницы**

##### 1. Комплексный компонент

Комплексный компонент должен работать в режиме ЧПУ и обрабатывать 4 уровня URL:
a. `/#SEF_FOLDER#/` - список производителей  
b. `/#SEF_FOLDER#/#BRAND#/` - список моделей производителя  
c. `/#SEF_FOLDER#/#BRAND#/#MODEL#/` - список ноутбуков модели  
d. `/#SEF_FOLDER#/detail/#NOTEBOOK#/` - детальная страница ноутбука

На всех уровнях, кроме 4-го, должен быть расположен компонент списка, на 4-м уровне - компонент, реализующий детальную страницу конкретного ноутбука.

##### 2. Компонент списка

Компонент списка должен реализовывать:
- Выбор сущности для построения списка (производители, модели, ноутбуки)
- Сортировку (по цене и году выпуска) в 2-х направлениях (по убыванию и возрастанию)
- Постраничную навигацию (с выбором размера страницы)

Весь функционал должен быть доступен через интерфейс пользователя (не через параметры компонента).

##### 3. Компонент детальной страницы

Компонент детальной страницы должен выводить всю информацию по ноутбуку, включая его производителя, модель, опции конкретного ноутбука, год выпуска и цену.

#### Установка

Установка модуля должна проходить в 2 шага:
1. На первом шаге должно быть выведено сообщение и чекбокс, предлагающий удалить существующие таблицы и создать их заново.
2. На втором шаге происходит установка (действия с таблицами, копирование компонентов и файлов и т.д.). Копировать файлы необходимо в пределах `/local/`.

Необходимо предусмотреть тестовое наполнение для базы данных, чтобы проверить работоспособность модуля. Установленный модуль — это не просто чистая БД и скопированные файлы, а полностью работающее решение с тестовыми производителями, моделями, ноутбуками и т.д.

#### Удаление

При удалении модуль должен спросить, удалять ли таблицы или оставить. Соответственно, при удалении, в случае необходимости, должны быть удалены таблицы. Компоненты и прочую файловую составляющую не трогаем.

#### Проверка задания

Проверка будет осуществляться следующим образом:
1. Мы делаем чистую установку БУС актуальной версии на web-сервер с предустановленным PHP 8.
2. Клонируем репозиторий модуля в папку `/local/modules`.
3. Переносим компоненты через визуальный редактор на чистую страницу и открываем их настройки.

После первичной настройки комплексного компонента через интерфейс, мы рассчитываем получить в разделе сайта 4-уровневую структуру и увидеть тестовые данные.

#### Уровни выполнения задания

##### Базовый уровень:
- Реализация модуля с 2-х шаговой установкой и удалением.
- Реализация комплексного компонента (с режимом ЧПУ) и компонентов списка и детального просмотра.
- Реализация хранения и получения данных через ORM.
- Реализация установки тестовых данных через методы ORM (не чистый SQL).
- Все компоненты должны иметь файлы с параметрами и описанием (`.parameters.php` и `.description.php`).
- Вывод списка и детальной страницы стилизован с помощью Bootstrap, входящего в комплект Битрикс.

##### Продвинутый уровень:
- Соблюдение PSR-12.
- Соответствие принципам проектирования (KISS, DRY и другие).
- Использование языковых файлов.